<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
<title>番表</title>
<style>
	body{
	margin:0px;
	padding:0px;
	}
    *{ margin: 0; padding: 0}
    ul,li{ list-style: none}
    .tabClick{ background: #f3f3f3; overflow: hidden;opacity: 0.5;}
    .tabClick li{ height:60px; line-height: 60px; width: 14.28%; float: left; text-align: center}
    .tabClick li.active{ color: #099; transition: 0.1s; font-weight: bold}
    .tabCon{ overflow: hidden}
    .tabBox{ position: relative}
    .tabList{word-break: break-all; width:100%;float:left; line-height:60px; text-align:center; color:#D3D3D3; font-size:25px; font-family: "Arial Black"}
    .lineBorder{ height: 5px; overflow: hidden; background: #f3f3f3 opacity: 0.5;}
    .lineDiv{ background: #099; height: 5px; width: 14.28%;}
	.buttom{width:100%;position: fixed; bottom: 0px;}
	.buttom div{text-align:center;}


	.whole{width:100%;height:100%;line-height:100%;position:fixed;bottom:0;left:0;z-index:-1000;overflow:hidden;}

	#mask{width:100%;height:100%;position:absolute;top:0;left:0;background:#000;opacity:0.6;filter:alpha(opacity=60);}

	.transparent.header{background:#333;}
	section[role="main"]{color:#fff;}
	section[role="main"] h1{color:#fff;}
	section[role="main"] h2{color:#fff;}
	section[role="main"]h3{color:#fff;}
	.button{margin-right:0.5em;border-radius:4px;}
	ol{margin-left:2em;}
	div#sidebarAd.cleanslate{background:#444!important;color:#fff!important;}
	div#sidebarAd.cleanslate .ad-sponsor{color:#ccc!important;}
	.zurb-footer-top{background:#222;}@-webkit-keyframes bigAssButtonPulse {
		from { background-color: #749a02; -webkit-box-shadow: 0 0 25px #333; } 50% { background-color: #91bd09; -webkit-box-shadow: 0 0 50px #91bd09; }
		to { background-color: #749a02; -webkit-box-shadow: 0 0 25px #333; }
	}

	@-webkit-keyframes redPulse {
	  from { background-color: #bc330d; -webkit-box-shadow: 0 0 9px #333; }
	  50% { background-color: #e33100; -webkit-box-shadow: 0 0 18px #e33100; }
	  to { background-color: #bc330d; -webkit-box-shadow: 0 0 9px #333; }
	}

	a.button {
		-webkit-animation-duration: 2s;
		-webkit-animation-iteration-count: infinite; 
	}
	
	.red.button { -webkit-animation-name: redPulse; -webkit-animation-duration: 1s; }
	
	.wall-of-buttons { text-align: center; margin-top: 2em; margin-bottom: 2em; }
    .button {
	    border-style: solid;
	    border-width: 0;
	    cursor: pointer;
	    font-family: inherit;
	    font-weight: bold;
	    line-height: normal;
	    margin: 0 0 1.25em;
	    position: relative;
	    text-decoration: none;
	    text-align: center;
	    display: inline-block;
	    padding-top: 0.75em;
	    padding-right: 1.5em;
	    padding-bottom: 0.8125em;
	    padding-left: 1.5em;
	    font-size: 1em;
	    background-color: #2daebf;
	    border-color: #238896;
	    color: white
	}

</style>
<body>

<!-- 代码部分begin -->
<div class="wrap" id="wrap">
    <ul class="tabClick">
        <li>周一</li>
        <li>周二</li>
        <li>周三</li>
        <li>周四</li>
        <li>周五</li>
        <li>周六</li>
        <li>周日</li>
    </ul>
    <div class="lineBorder">
        <div class="lineDiv"><!--移动的div--></div>
    </div>
    <div class="tabCon">
        <div class="tabBox">
            <div class="tabList">
				小魔女学园<br>
				僧侣之夜
            </div>
            <div class="tabList">
				<br>
            </div>
            <div class="tabList">
				末日时有没有空？可以来拯救吗？
            </div>
            <div class="tabList">
				樱花任务<br>
				重启咲良田
			</div>
            <div class="tabList">
				不起眼女主育成法b
            </div>
            <div class="tabList">
				巴哈姆特之怒VIRGIN SOUL
            </div>
            <div class="tabList">
				阿童木起源<br>
				埃罗芒阿老师<br>
				进击的巨人<br>
				有顶天家族2
            </div>
        </div>
    </div>
</div>

<div class="whole">
	<!-- <img src="http://om8k74ojm.bkt.clouddn.com/17-3-3/40544064-file_1488550135748_fd49.png"> -->
    <div id="mask"></div>
</div>

<div class="buttom">
	<div>
		<section role="main" class="body">
		<div class="row">
				<a class="red button" href="http://9ajiang.cn">返回博客首页</a>
		</div>
		</section>
	</div>
	<div>
		<span style="font-family:arial; color:#fff"> &copy; &nbsp;2017&nbsp;9A</span> 
	</div>
</div>

<script charset="utf-8">
	window.onload = function (){
        var windowWidth = document.body.clientWidth; //window 宽度;
		var wrap = document.getElementById('wrap');
        var tabClick = wrap.querySelectorAll('.tabClick')[0];
        var tabLi = tabClick.getElementsByTagName('li');
        
        var tabBox =  wrap.querySelectorAll('.tabBox')[0];
        var tabList = tabBox.querySelectorAll('.tabList');
        
        var lineBorder = wrap.querySelectorAll('.lineBorder')[0];
        var lineDiv = lineBorder.querySelectorAll('.lineDiv')[0];
        
        var tar = 0;
        var endX = 0;
        var dist = 0;
        
		var day=new Date();
		var today=day.getDay()-1;


		switch(today)
		{
		case 0:
		  document.getElementById("mask").style.backgroundColor = "#5F9EA0";
		  break;
		case 1:
		  document.getElementById("mask").style.backgroundColor= "#1E90FF";
		  break;
		case 2:
		  document.getElementById("mask").style.backgroundColor= "#DCDCDC";
		  break;
		case 3:
		  document.getElementById("mask").style.backgroundColor= "#F0FFF0";
		  break;
		case 4:
		  document.getElementById("mask").style.backgroundColor= "#90EE90";
		  break;
		case 5:
		  document.getElementById("mask").style.backgroundColor= "#FF7F50";
		  break;
		case 6:
		  document.getElementById("mask").style.backgroundColor= "#FFB6C1";
		  break;
		};
		
		tabLi[today].className='active';
        init.lineAnme(lineDiv,windowWidth/tabLi.length*today)
        init.translate(tabBox,windowWidth,today);
		
        tabBox.style.overflow='hidden';
        tabBox.style.position='relative';
        tabBox.style.width=windowWidth*tabList.length+"px";
        
        for(var i = 0 ;i<tabLi.length; i++ ){
              tabList[i].style.width=windowWidth+"px";
              tabList[i].style.float='left';
              tabList[i].style.float='left';
              tabList[i].style.padding='0';
              tabList[i].style.margin='0';
              tabList[i].style.verticalAlign='top';
              tabList[i].style.display='table-cell';
        }
        
        for(var i = 0 ;i<tabLi.length; i++ ){
            tabLi[i].start = i;
            tabLi[i].onclick = function(){
                var star = this.start;
                for(var i = 0 ;i<tabLi.length; i++ ){
                    tabLi[i].className='';
                };
                tabLi[star].className='active';
                init.lineAnme(lineDiv,windowWidth/tabLi.length*star)
                init.translate(tabBox,windowWidth,star);
                endX= -star*windowWidth;
            }
        }
        
        function OnTab(star){
            if(star<0){
                star=0;
            }else if(star>=tabLi.length){
                star=tabLi.length-1
            }
            for(var i = 0 ;i<tabLi.length; i++ ){
                tabLi[i].className='';
            };
            
		switch(star)
		{
		case 0:
		  document.getElementById("mask").style.backgroundColor = "#5F9EA0";
		  break;
		case 1:
		  document.getElementById("mask").style.backgroundColor= "#1E90FF";
		  break;
		case 2:
		  document.getElementById("mask").style.backgroundColor= "#DCDCDC";
		  break;
		case 3:
		  document.getElementById("mask").style.backgroundColor= "#F0FFF0";
		  break;
		case 4:
		  document.getElementById("mask").style.backgroundColor= "#90EE90";
		  break;
		case 5:
		  document.getElementById("mask").style.backgroundColor= "#FF7F50";
		  break;
		case 6:
		  document.getElementById("mask").style.backgroundColor= "#FFB6C1";
		  break;
		};
		
        tabLi[star].className='active';
        init.translate(tabBox,windowWidth,star);
        endX= -star*windowWidth;
        };
        
        tabBox.addEventListener('touchstart',chstart,false);
        tabBox.addEventListener('touchmove',chmove,false);
        tabBox.addEventListener('touchend',chend,false);
        //按下
        function chstart(ev){
            ev.preventDefault;
            var touch = ev.touches[0];
            tar=touch.pageX;
            tabBox.style.webkitTransition='all 0s ease-in-out';
            tabBox.style.transition='all 0s ease-in-out';
        };
        //滑动
        function chmove(ev){
            var stars = wrap.querySelector('.active').start;
            ev.preventDefault;
            var touch = ev.touches[0];
            var distance = touch.pageX-tar;
            dist = distance;
            init.touchs(tabBox,windowWidth,tar,distance,endX);
            init.lineAnme(lineDiv,-dist/tabLi.length-endX/4);
        };
        //离开
        function chend(ev){
            var str= tabBox.style.transform;
            var strs = JSON.stringify(str.split(",",1));  
            endX = Number(strs.substr(14,strs.length-18)); 
            
            if(endX>0){
                init.back(tabBox,windowWidth,tar,0,0,0.3);
                endX=0
            }else if(endX<-windowWidth*tabList.length+windowWidth){
                endX=-windowWidth*tabList.length+windowWidth
                init.back(tabBox,windowWidth,tar,0,endX,0.3);
            }else if(dist<-windowWidth/3){
                 OnTab(tabClick.querySelector('.active').start+1);
                 init.back(tabBox,windowWidth,tar,0,endX,0.3);
            }else if(dist>windowWidth/3){
                 OnTab(tabClick.querySelector('.active').start-1);
            }else{
                 OnTab(tabClick.querySelector('.active').start);
            }
            var stars = wrap.querySelector('.active').start;
            init.lineAnme(lineDiv,stars*windowWidth/7);
            
        };
	};
	
    var init={
        translate:function(obj,windowWidth,star){
            obj.style.webkitTransform='translate3d('+-star*windowWidth+'px,0,0)';
            obj.style.transform='translate3d('+-star*windowWidth+',0,0)px';
            obj.style.webkitTransition='all 0.3s ease-in-out';
            obj.style.transition='all 0.3s ease-in-out';
        },
        touchs:function(obj,windowWidth,tar,distance,endX){
            obj.style.webkitTransform='translate3d('+(distance+endX)+'px,0,0)';
            obj.style.transform='translate3d('+(distance+endX)+',0,0)px';
        },
        lineAnme:function(obj,stance){
            obj.style.webkitTransform='translate3d('+stance+'px,0,0)';
            obj.style.transform='translate3d('+stance+'px,0,0)';
            obj.style.webkitTransition='all 0.1s ease-in-out';
            obj.style.transition='all 0.1s ease-in-out';
        },
        back:function(obj,windowWidth,tar,distance,endX,time){
            obj.style.webkitTransform='translate3d('+(distance+endX)+'px,0,0)';
            obj.style.transform='translate3d('+(distance+endX)+',0,0)px';
            obj.style.webkitTransition='all '+time+'s ease-in-out';
            obj.style.transition='all '+time+'s ease-in-out';
        },
    }
    
</script>
<!-- 代码部分end -->

</body>
</html>